# The main file to run
entrypoint = "app.py"

# Specifies the command to run on "Deploy"
[deployment]
# The build command is removed to allow Replit's default buildpack to handle dependencies from pyproject.toml
# The run environment uses 'python -m' to robustly execute gunicorn as a module
run = ["python", "-m", "gunicorn", "--bind", "0.0.0.0:$PORT", "--workers", "4", "app:app"]

# Specifies the path for health checks
[deployment.healthcheck]
path = "/health"
port = "$PORT"

# The command for the interactive "Run" button in the IDE
[run]
command = ["python", "app.py"] 